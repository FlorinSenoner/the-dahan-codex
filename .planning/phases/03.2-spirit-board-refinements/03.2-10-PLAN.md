---
phase: 03.2-spirit-board-refinements
plan: 10
type: execute
wave: 1
depends_on: []
files_modified:
  - app/components/spirits/variant-tabs.tsx
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "Tabs scroll behind header (not on top)"
  artifacts:
    - path: "app/components/spirits/variant-tabs.tsx"
      provides: "Correct z-index (z-0) for tabs scrolling behind header"
  key_links:
    - from: "variant-tabs.tsx"
      to: "TabsList"
      via: "z-0 class"
      pattern: "z-0"
---

<objective>
Fix tabs z-index so they scroll behind the sticky header instead of on top.

Purpose: UAT test 2 reported tabs scrolling on top of header. The TabsList has `z-10` which needs to be `z-0` so the header (which has higher z-index) renders on top during scroll.
Output: Tabs properly stack behind header during scroll.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@app/components/spirits/variant-tabs.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix tabs z-index for proper scroll stacking</name>
  <files>app/components/spirits/variant-tabs.tsx</files>
  <action>
The TabsList has `z-10` which causes it to scroll on top of the sticky header. Change to `z-0` so tabs scroll behind.

In `app/components/spirits/variant-tabs.tsx`, line 53:

```tsx
// BEFORE
className="sticky top-[57px] z-10 w-full h-auto min-h-[44px] justify-start overflow-x-auto overflow-y-hidden bg-background/95 backdrop-blur border-b border-border rounded-none gap-0"

// AFTER
className="sticky top-[57px] z-0 w-full h-auto min-h-[44px] justify-start overflow-x-auto overflow-y-hidden bg-background/95 backdrop-blur border-b border-border rounded-none gap-0"
```

Simply change `z-10` to `z-0`. The header has a higher z-index so it will render on top when scrolling.
  </action>
  <verify>
Run `pnpm typecheck` - no errors.
Visit a spirit with aspects (e.g., River Surges in Sunlight at /spirits/river-surges-in-sunlight).
Scroll down past the tabs.
Verify the tabs scroll behind the header, not on top of it.
  </verify>
  <done>
Tabs scroll behind the sticky header instead of on top.
  </done>
</task>

</tasks>

<verification>
- [ ] `pnpm typecheck` passes
- [ ] TabsList has `z-0` (not `z-10`)
- [ ] Tabs scroll behind header when scrolling down
</verification>

<success_criteria>
1. Tabs properly stack behind header during scroll
2. No TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/03.2-spirit-board-refinements/03.2-10-SUMMARY.md`
</output>

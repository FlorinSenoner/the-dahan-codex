---
phase: 03.2-spirit-board-refinements
plan: 06
type: execute
wave: 3
depends_on: ["03.2-01", "03.2-03", "03.2-04"]
files_modified:
  - convex/seed.ts
autonomous: true

must_haves:
  truths:
    - "Finder of Paths Unseen spirit exists with branching presence tracks"
    - "Starlight Seeks Its Form spirit exists with 6 presence tracks and growth unlocks"
    - "Fractured Days Split the Sky spirit exists with choose-from-four growth using orActions"
    - "Serpent Slumbering spirit exists with Deep Slumber presence limit track"
    - "All 4 new spirits have complete board data (growth, presence, innates, cards)"
  artifacts:
    - path: "convex/seed.ts"
      provides: "Seed data for 4 complex spirits"
      contains: "fractured-days-split-the-sky"
  key_links:
    - from: "convex/seed.ts"
      to: "convex/schema.ts"
      via: "Uses extended schema fields"
      pattern: "orActions|connectsTo|unlocksGrowth|presenceCap"
---

<objective>
Add complete seed data for four complex spirits that demonstrate all the advanced board patterns: Fractured Days (choose-from-four growth), Starlight (multi-track presence), Finder (branching tracks), and Serpent (presence limit track).

Purpose: Verify schema extensions work with real data, demonstrate complex spirit patterns in UI.
Output: Updated seed.ts with 4 new spirits fully populated
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/03.2-spirit-board-refinements/03.2-RESEARCH.md
@convex/seed.ts
@convex/schema.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add Fractured Days Split the Sky seed data</name>
  <files>convex/seed.ts</files>
  <action>
Reference: https://spiritislandwiki.com/index.php?title=Fractured_Days_Split_the_Sky

Add Fractured Days to seed data:

1. **Basic info:**
   - name: "Fractured Days Split the Sky"
   - slug: "fractured-days-split-the-sky"
   - complexity: "Very High"
   - elements: ["Moon", "Air"]
   - summary: "Manipulates time with Days That Never Were cards"
   - description: Full playstyle description from wiki

2. **Growth (choose-from-four with orActions):**
   - type: "pick-any" (choose any number up to limit)
   - Each option uses orActions for "X OR Y" choices
   - Example option structure:
   ```typescript
   {
     id: "G1",
     orActions: [
       {
         label: "1 Time",
         actions: [{ type: "gainTime", amount: 1 }]
       },
       {
         label: "2 Card Plays (this turn)",
         actions: [{ type: "gainCardPlays", amount: 2 }]
       }
     ]
   }
   ```

3. **Presence tracks:**
   - Standard 2-track layout (energy/cardPlays)
   - Use actual values from wiki

4. **Innates:**
   - Add both innate powers with thresholds
   - Include range and target

5. **Unique Powers:**
   - Add 4 starting cards with elements, cost, speed, range, target

Note: Look up exact values from Spirit Island Wiki. Don't invent - use real game data.
  </action>
  <verify>
   - `grep -q "fractured-days-split-the-sky" convex/seed.ts` returns 0
   - `grep -q "orActions" convex/seed.ts` returns 0
  </verify>
  <done>Fractured Days seed data added with choose-from-four growth pattern using orActions</done>
</task>

<task type="auto">
  <name>Task 2: Add Starlight, Finder, and Serpent seed data</name>
  <files>convex/seed.ts</files>
  <action>
**Starlight Seeks Its Form:**
Reference: https://spiritislandwiki.com/index.php?title=Starlight_Seeks_Its_Form

1. Basic info:
   - name: "Starlight Seeks Its Form"
   - slug: "starlight-seeks-its-form"
   - complexity: "Very High"
   - elements: ["Moon", "Air", "Fire", "Earth", "Plant", "Animal"] (uses all!)
   - summary: "Shape-shifting spirit with 6 presence tracks"

2. Presence tracks (layout: "multiple"):
   - 6 tracks total, 4 unlock growth choices
   - Use unlocksGrowth: true on relevant tracks
   - Example:
   ```typescript
   presenceTracks: {
     layout: "multiple",
     tracks: [
       { type: "energy", label: "Energy", slots: [...], unlocksGrowth: true },
       { type: "cardPlays", label: "Card Plays", slots: [...], unlocksGrowth: true },
       // ... 4 more tracks
     ]
   }
   ```

**Finder of Paths Unseen:**
Reference: https://spiritislandwiki.com/index.php?title=Finder_of_Paths_Unseen

1. Basic info:
   - name: "Finder of Paths Unseen"
   - slug: "finder-of-paths-unseen"
   - complexity: "Very High"
   - elements: ["Moon", "Air"]
   - summary: "Moves presence freely along paths"

2. Presence tracks (layout: "branching"):
   - Branching track structure
   - Use connectsTo and connectionPoint for connections
   - Example:
   ```typescript
   presenceTracks: {
     layout: "branching",
     tracks: [
       { type: "energy", label: "Energy Track", slots: [...], connectsTo: "cardPlays", connectionPoint: 2 },
       { type: "cardPlays", label: "Card Plays Track", slots: [...] },
     ]
   }
   ```

**Serpent Slumbering Beneath the Island:**
Reference: https://spiritislandwiki.com/index.php?title=Serpent_Slumbering_Beneath_the_Island

1. Basic info:
   - name: "Serpent Slumbering Beneath the Island"
   - slug: "serpent-slumbering-beneath-the-island"
   - complexity: "Very High"
   - elements: ["Moon", "Earth", "Fire"]
   - summary: "Ancient power awakening through absorbed presence"

2. Presence tracks with Deep Slumber limit:
   - Standard 2 tracks + special "presenceLimit" track
   - Deep Slumber track uses presenceCap field
   - Example:
   ```typescript
   presenceTracks: {
     tracks: [
       { type: "energy", label: "Energy", slots: [...] },
       { type: "absorbed", label: "Absorbed Essence", slots: [...] },
       {
         type: "presenceLimit",
         label: "Deep Slumber",
         slots: [
           { value: 5, presenceCap: 5 },
           { value: 6, presenceCap: 6 },
           // ... up to 13
         ]
       },
     ]
   }
   ```

For all spirits:
- Add full growth options from wiki
- Add all innate powers with thresholds
- Add all 4 unique powers with elements, cost, speed
- Add strengths/weaknesses and power ratings if available
- Add wikiUrl for reference link
  </action>
  <verify>
   - `grep -q "starlight-seeks-its-form" convex/seed.ts` returns 0
   - `grep -q "finder-of-paths-unseen" convex/seed.ts` returns 0
   - `grep -q "serpent-slumbering" convex/seed.ts` returns 0
   - `grep -q "unlocksGrowth" convex/seed.ts` returns 0
   - `grep -q "connectsTo" convex/seed.ts` returns 0
   - `grep -q "presenceCap" convex/seed.ts` returns 0
  </verify>
  <done>Starlight, Finder, and Serpent seed data added with respective complex patterns (multi-track, branching, presence limit)</done>
</task>

<task type="auto">
  <name>Task 3: Deploy seed data and verify rendering</name>
  <files>convex/seed.ts</files>
  <action>
1. Run typecheck: `pnpm typecheck`

2. Push updated seed data to Convex (if dev server running with convex dev, it auto-deploys)
   Or run: `npx convex dev` in another terminal

3. Trigger reseed (if mutation exists) or manually add via Convex dashboard

4. Run dev server: `pnpm dev`

5. Manual verification for each new spirit:
   - Navigate to /spirits and verify 4 new spirits appear in list
   - Click each spirit and verify:
     - Fractured Days: Growth panel shows OR options
     - Starlight: Presence shows 6 tracks with growth unlock indicators
     - Finder: Presence shows connection indicators between tracks
     - Serpent: Presence shows Deep Slumber limit track
   - All sections render without errors
   - All complex patterns display (may need UI adjustments - log issues for future)

6. If any rendering issues:
   - Note them in summary but don't block on them
   - Core goal is data validation and basic rendering
  </action>
  <verify>
   - `pnpm typecheck` passes
   - 4 new spirits visible in spirit list
  </verify>
  <done>4 complex spirits seeded and rendering in UI, demonstrating all schema extensions</done>
</task>

</tasks>

<verification>
1. `pnpm typecheck` - No type errors
2. All 4 spirits appear in /spirits list
3. Each spirit detail page loads without errors
4. Complex patterns visible:
   - Fractured Days: orActions render as OR options in growth
   - Starlight: 6 tracks visible, growth unlock badges present
   - Finder: Connection indicators between tracks
   - Serpent: Deep Slumber track with limit values
</verification>

<success_criteria>
- Fractured Days has complete seed data with orActions growth pattern
- Starlight has 6 presence tracks with unlocksGrowth flags
- Finder has branching tracks with connectsTo relationships
- Serpent has Deep Slumber presenceLimit track
- All 4 spirits have complete board data (growth, innates, cards)
- Schema validation passes (no runtime errors)
- Spirit detail pages render for all 4 new spirits
</success_criteria>

<output>
After completion, create `.planning/phases/03.2-spirit-board-refinements/03.2-06-SUMMARY.md`
</output>

# Plan 06.2-06: Opening Section Internal Helpers

## Goal

Extract form data initialization and turns transformation within opening-section.tsx.

## Tasks

1. Create createFormDataFromOpening helper function
2. Create transformTurnsForSave helper function
3. Use helpers in existing code paths

## Implementation

```typescript
// app/components/spirits/opening-section.tsx

function createFormDataFromOpening(opening: Doc<"openings">): OpeningFormData {
  return {
    name: opening.name,
    description: opening.description || "",
    turns: opening.turns.map((t) => ({
      turn: t.turn,
      title: t.title || "",
      instructions: t.instructions,
    })),
    author: opening.author || "",
    sourceUrl: opening.sourceUrl || "",
  };
}

function transformTurnsForSave(turns: OpeningFormData["turns"]) {
  return turns.map((t) => ({
    turn: t.turn,
    title: t.title || undefined,
    instructions: t.instructions,
  }));
}
```

## Verification

```bash
pnpm typecheck
pnpm jscpd app/components/spirits/
```

## Files Changed

- app/components/spirits/opening-section.tsx

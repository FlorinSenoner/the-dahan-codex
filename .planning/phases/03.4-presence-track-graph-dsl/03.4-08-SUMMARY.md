# Phase 3.4 Plan 08: Correct Finder Presence Track Data

**Duration:** ~1 min
**Completed:** 2026-01-27

## One-liner

Corrected Finder of Paths Unseen presence tracks from 2-row parallel to 3-row diamond/web structure matching actual spirit panel.

## What Was Built

### Finder of Paths Unseen Presence Track Correction

Updated the presence track data for Finder of Paths Unseen to match the actual spirit panel layout, which is a 3-row diamond/web structure with bidirectional traversal, NOT two parallel rows.

**Corrected Layout (3 rows x 6 cols):**

```
ROW 0 (top):     [0 E]* -> [Sun] -> [2,Water] -> [skip] -> [+2E] -> [+1E,Any,+1Range]
                             \         \                    /
ROW 1 (middle):               [1,Moon]        [Move,Air]
                             /         /                    \
ROW 2 (bottom):  [1 CP]* -> [Earth] -> [skip] -> [+1CP] -> [+1CP] -> [Push T/C]
```

* = Starting position

**Key Structure Changes:**

- Changed from `rows: 2` to `rows: 3`
- Added middle row with junction nodes at col 2 (Moon element, 1 energy) and col 4 (Air element, Move Presence ability)
- Added `elements` arrays on nodes (Sun, Water, Moon, Air, Earth, Any)
- Added `specialAbility` for "+1 Range" and "Move Presence" and "Push 1 Town/City"
- Skipped covered slots at positions (0,3) and (2,2)
- Changed row indices for Card Plays track from row 1 to row 2

**Edge Configuration:**

9 diagonal cross-connections forming the diamond/web pattern:
- `e1 -> m2` (Sun -> Moon junction)
- `c1 -> m2` (Earth -> Moon junction)
- `e2 -> c3` (Water -> +1CP)
- `m2 -> e4` (Moon -> +2E)
- `m2 -> c4` (Moon -> +1CP)
- `e4 -> m4` (+2E -> Air junction)
- `c4 -> m4` (+1CP -> Air junction)
- `m4 -> e5` (Air -> +1E final)
- `m4 -> c5` (Air -> Push final)

## Files Modified

| File | Changes |
|------|---------|
| convex/seed.ts | Updated presenceTracks in both seedSpirits (~line 1052) and reseedSpirits (~line 2542) functions |

## Technical Decisions

1. **3-Row Grid Layout** - Middle row only contains junction nodes at columns 2 and 4, creating the diamond pattern
2. **Skipped Covered Slots** - Positions (0,3) and (2,2) are not included since they appear covered in the spirit panel
3. **Element Placement** - Elements added to nodes as arrays: Sun, Water, Moon, Air, Earth, Any
4. **Special Abilities** - Added to e5 ("+1 Range") and m4 ("Move Presence") and c5 ("Push 1 Town/City")
5. **TrackType Variety** - Uses energy, energyMod, cardPlays, cardPlaysMod, elements, and special types

## Commits

| Hash | Message |
|------|---------|
| 001b32f | fix(03.4-08): correct Finder presence track data from actual spirit panel |

## Deviations from Plan

None - plan executed exactly as specified in the user prompt.

## Next Phase Readiness

- Finder's diamond/web presence track structure now matches actual game panel
- Ready for visual verification after database reseed
- E2E tests (03.4-07) can validate rendering

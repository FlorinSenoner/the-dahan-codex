---
phase: 03.6-simplify-spirit-board-text-openings
plan: 03
subsystem: testing
tags: [playwright, e2e, spirits]

# Dependency graph
requires:
  - phase: 03.6-01
    provides: Board components removed from UI
  - phase: 03.6-02
    provides: Schema/seed cleanup verified
provides:
  - E2E tests updated to match simplified spirit detail UI
  - Board sections test removed
  - Variant tabs tests fixed to use "Base" instead of spirit name
affects: []

# Tech tracking
tech-stack:
  added: []
  patterns: []

key-files:
  created: []
  modified:
    - e2e/spirits.spec.ts

key-decisions:
  - "Fixed variant tabs tests to use 'Base' tab name instead of '/River/' regex (UI changed to show 'Base' for base spirit)"

patterns-established: []

# Metrics
duration: 3min
completed: 2026-01-28
---

# Phase 03.6 Plan 03: E2E Test Updates Summary

**Removed board sections E2E test and fixed variant tabs assertions to match simplified UI**

## Performance

- **Duration:** 3 min
- **Started:** 2026-01-28T12:00:00Z
- **Completed:** 2026-01-28T12:03:00Z
- **Tasks:** 1
- **Files modified:** 1

## Accomplishments

- Removed "spirit detail shows board sections" test that checked for Growth, Presence Tracks, Innate Powers, and Starting Cards headings
- Fixed variant tabs tests to look for "Base" tab instead of `/River/` regex
- All 13 E2E tests pass (9 in spirits.spec.ts, 4 in smoke.spec.ts)

## Task Commits

Each task was committed atomically:

1. **Task 1: Remove board section test and update assertions** - `84b5d3a` (test)

## Files Created/Modified

- `e2e/spirits.spec.ts` - Removed board sections test, fixed variant tabs assertions

## Decisions Made

- Fixed variant tabs tests to use "Base" instead of `/River/` - the VariantTabs component now shows "Base" for the base spirit tab instead of the spirit name

## Deviations from Plan

### Auto-fixed Issues

**1. [Rule 1 - Bug] Fixed variant tabs test assertions**

- **Found during:** Task 1 (Running E2E tests after removing board sections test)
- **Issue:** Tests expected tab with name `/River/` but UI shows "Base" for the base spirit tab
- **Fix:** Changed test assertions from `/River/` regex to exact match "Base"
- **Files modified:** e2e/spirits.spec.ts
- **Verification:** All 13 E2E tests pass
- **Committed in:** 84b5d3a (part of task commit)

---

**Total deviations:** 1 auto-fixed (1 bug)
**Impact on plan:** Test fix necessary for correctness - tests must match actual UI behavior. No scope creep.

## Issues Encountered

None - the variant tabs test fix was straightforward once the actual UI behavior was verified.

## User Setup Required

None - no external service configuration required.

## Next Phase Readiness

- E2E tests aligned with simplified spirit detail UI
- Ready for 03.6-04 (add text-based openings schema) or further plans

---

*Phase: 03.6-simplify-spirit-board-text-openings*
*Completed: 2026-01-28*

---
phase: 03.6-simplify-spirit-board-text-openings
plan: 08
subsystem: ui, database
tags: [convex, schema, seed-data, special-rules, openings, aspects]

# Dependency graph
requires:
  - phase: 03.6-simplify-spirit-board-text-openings
    provides: "Spirit detail page with openings, SpecialRules component, seed data"
provides:
  - "Clean spirit detail page without SpecialRules section"
  - "Working source URL for openings"
  - "Verified aspect openings isolation architecture"
affects: []

# Tech tracking
tech-stack:
  added: []
  patterns: []

key-files:
  created: []
  modified:
    - app/routes/spirits.$slug.tsx
    - app/components/spirits/opening-section.tsx
    - convex/schema.ts
    - convex/seed.ts

key-decisions:
  - "specialRules field fully removed from schema and all seed data (no longer displayed)"
  - "sourceUrl fixed to root querki.net FAQ page (fragment was broken)"
  - "Aspect openings isolation verified: each spirit queries by own _id, no inheritance"

patterns-established:
  - "Openings isolation: aspects query openings by own _id, never inherit from base"

# Metrics
duration: 9min
completed: 2026-01-28
---

# Phase 3.6 Plan 08: UAT Gap Closure Summary

**Removed SpecialRules from schema/UI/seed, fixed opening sourceUrl, verified aspect openings isolation**

## Performance

- **Duration:** 9 min
- **Started:** 2026-01-28T13:42:59Z
- **Completed:** 2026-01-28T13:51:34Z
- **Tasks:** 2
- **Files modified:** 4

## Accomplishments
- Deleted SpecialRules component and removed all references from spirit detail page, schema, and seed data (12 occurrences)
- Fixed sourceUrl from broken fragment URL to working root querki.net FAQ page
- Verified aspect openings isolation architecture and documented the design pattern
- Reseeded database with cleaned data

## Task Commits

Each task was committed atomically:

1. **Task 1: Remove SpecialRules component and clean up schema/seed** - `a22d7fd` (feat)
2. **Task 2: Verify aspect openings isolation and reseed** - `48521ad` (docs)

## Files Created/Modified
- `app/routes/spirits.$slug.tsx` - Removed SpecialRules import and JSX block
- `app/components/spirits/special-rules.tsx` - DELETED
- `app/components/spirits/opening-section.tsx` - Added design decision comment for aspect isolation
- `convex/schema.ts` - Removed specialRules field from spirits table
- `convex/seed.ts` - Removed all 12 specialRules occurrences, fixed sourceUrl in both mutations

## Decisions Made
- Fully removed specialRules from schema rather than deprecating - the field is no longer part of the simplified spirit detail page
- Fixed sourceUrl to root FAQ page since the fragment hash (#!.7w4g8aw) was broken/not loading correctly
- Documented aspect openings isolation as a code comment rather than in external docs

## Deviations from Plan
None - plan executed exactly as written.

## Issues Encountered
None

## User Setup Required
None - no external service configuration required.

## Next Phase Readiness
- Phase 3.6 is fully complete with all UAT gaps closed
- Spirit detail page is clean: image, name, badges, summary, overview, openings, external links
- Ready for Phase 5 (Text Opening Management) or other future phases

---
*Phase: 03.6-simplify-spirit-board-text-openings*
*Completed: 2026-01-28*

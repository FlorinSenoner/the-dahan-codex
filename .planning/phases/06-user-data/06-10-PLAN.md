---
phase: 06-user-data
plan: 10
type: execute
wave: 1
depends_on: []
files_modified:
  - convex/games.ts
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "Unused restoreGame mutation is removed from codebase"
  artifacts:
    - path: "convex/games.ts"
      provides: "Clean games CRUD mutations without dead code"
  key_links: []
---

<objective>
Remove the unused `restoreGame` mutation from `convex/games.ts`.

Purpose: Clean up dead code. The mutation was created for a potential undo toast feature but the delete UX is complete without it.

Output: `convex/games.ts` with no `restoreGame` export.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@convex/games.ts (restoreGame mutation lines 179-194)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Delete restoreGame mutation</name>
  <files>convex/games.ts</files>
  <action>
Remove the `restoreGame` mutation from `convex/games.ts`:

1. Delete lines 178-194 (the comment and entire `restoreGame` mutation export):
   ```typescript
   // Mutation to restore a soft-deleted game (for undo)
   export const restoreGame = mutation({
     args: { id: v.id("games") },
     handler: async (ctx, args) => {
       const identity = await requireAuth(ctx);
       const game = await ctx.db.get(args.id);

       if (!game || game.userId !== identity.tokenIdentifier) {
         throw new Error("Game not found");
       }

       await ctx.db.patch(args.id, {
         deletedAt: undefined,
       });
     },
   });
   ```

2. Ensure no blank lines are left between `deleteGame` and `importGames` mutations
  </action>
  <verify>
```bash
# Ensure no references to restoreGame exist
grep -r "restoreGame" --include="*.ts" --include="*.tsx" . 2>/dev/null | grep -v node_modules | grep -v ".planning"

# Run typecheck to confirm no broken imports
pnpm typecheck
```
  </verify>
  <done>
restoreGame mutation removed. No remaining references. TypeScript compiles without errors.
  </done>
</task>

</tasks>

<verification>
1. `grep -r "restoreGame"` returns no results in source files
2. `pnpm typecheck` passes with no errors
</verification>

<success_criteria>
- restoreGame mutation removed from convex/games.ts
- No remaining references to restoreGame in codebase
- TypeScript compiles without errors
</success_criteria>

<output>
After completion, create `.planning/phases/06-user-data/06-10-SUMMARY.md`
</output>

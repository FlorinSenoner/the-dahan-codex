---
phase: 03.1-spirit-board-polish
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - app/components/spirits/variant-tabs.tsx
  - app/components/spirits/power-radar-chart.tsx
autonomous: true

must_haves:
  truths:
    - "Base tab shows 'Base' label instead of truncated spirit name"
    - "Tab bar has no vertical scroll, only horizontal"
    - "Active tab has gradient highlight with no rounded corners"
    - "Radar chart is visible on dark background with spider web grid"
  artifacts:
    - path: "app/components/spirits/variant-tabs.tsx"
      provides: "Polished tab styling matching UAT requirements"
      contains: "overflow-y-hidden"
    - path: "app/components/spirits/power-radar-chart.tsx"
      provides: "Dark-mode optimized radar chart with polygon grid"
      contains: "gridType"
  key_links:
    - from: "app/components/spirits/variant-tabs.tsx"
      to: "app/components/ui/tabs.tsx"
      via: "TabsTrigger className override"
      pattern: "rounded-none"
---

<objective>
Polish variant tabs and radar chart components to address UAT issues: tabs need correct labels and styling, radar chart needs dark mode visibility with spider web grid.

Purpose: These are independent visual polish items that don't require schema changes or new components. Fixing them improves usability immediately.

Output:
- Variant tabs with "Base" label, no vertical scroll, gradient highlight
- Radar chart visible on dark background with polygon (spider web) grid
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/03.1-spirit-board-polish/03.1-RESEARCH.md
@app/components/spirits/variant-tabs.tsx
@app/components/spirits/power-radar-chart.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Polish Variant Tabs Component</name>
  <files>app/components/spirits/variant-tabs.tsx</files>
  <action>
Update variant-tabs.tsx with the following fixes:

1. Change base tab label from truncated spirit name to "Base":
```typescript
<TabsTrigger value="base" ...>
  Base
</TabsTrigger>
```

2. Fix vertical scroll issue - add overflow-y-hidden to TabsList:
```typescript
className="... overflow-x-auto overflow-y-hidden ..."
```

3. Remove left/right padding from TabsList (px-4 -> px-0 or remove):
```typescript
// Remove px-4 from TabsList className
```

4. Remove rounded corners from TabsTrigger - override shadcn default:
```typescript
className="... rounded-none ..."
```

5. Add gradient highlight for active state instead of flat bg-primary/10:
```typescript
className={cn(
  "min-w-fit min-h-[44px] shrink-0 cursor-pointer",
  "rounded-none border-b-2 border-transparent",
  "data-[state=active]:bg-gradient-to-b",
  "data-[state=active]:from-primary/20",
  "data-[state=active]:to-transparent",
  "data-[state=active]:border-primary"
)}
```

6. Ensure z-index is lower than header (z-10 is fine, header should be z-20).

Full TabsList className should be:
```typescript
"sticky top-[57px] z-10 w-full h-auto min-h-[44px] justify-start overflow-x-auto overflow-y-hidden bg-background/95 backdrop-blur border-b border-border rounded-none gap-0"
```
  </action>
  <verify>
Run `pnpm dev` and navigate to /spirits/river-surges-in-sunlight.
Verify: Base tab shows "Base", no vertical scroll on tab bar, gradient highlight on active tab.
  </verify>
  <done>
Variant tabs display "Base" label, have no vertical scroll, gradient highlight on active tab with no rounded corners.
  </done>
</task>

<task type="auto">
  <name>Task 2: Fix Radar Chart Dark Mode Visibility</name>
  <files>app/components/spirits/power-radar-chart.tsx</files>
  <action>
Update power-radar-chart.tsx for dark mode visibility:

1. Add gridType="polygon" to PolarGrid for spider web appearance:
```typescript
<PolarGrid
  gridType="polygon"
  stroke="oklch(0.45 0.02 90)"
  strokeOpacity={0.6}
/>
```

2. Add polarRadius prop to show concentric rings at specific radii:
```typescript
<PolarGrid
  gridType="polygon"
  polarRadius={[20, 40, 60, 80]}
  stroke="oklch(0.45 0.02 90)"
  strokeOpacity={0.6}
/>
```

3. Update PolarAngleAxis tick color for visibility:
```typescript
<PolarAngleAxis
  dataKey="axis"
  tick={{
    fill: "oklch(0.75 0.02 90)",
    fontSize: 11,
  }}
/>
```

4. Update Radar fill and stroke for higher contrast:
```typescript
<Radar
  name="Rating"
  dataKey="value"
  stroke="oklch(0.65 0.15 145)"
  strokeWidth={2}
  fill="oklch(0.55 0.15 145)"
  fillOpacity={0.4}
/>
```

5. If PolarRadiusAxis is shown, update its tick color:
```typescript
<PolarRadiusAxis
  angle={90}
  domain={[0, 5]}
  tickCount={6}
  tick={{ fill: "oklch(0.5 0.02 90)", fontSize: 10 }}
/>
```

Key colors to use (optimized for dark background oklch 0.15):
- Grid lines: oklch(0.45 0.02 90) at 60% opacity
- Axis labels: oklch(0.75 0.02 90)
- Radar stroke: oklch(0.65 0.15 145) - bright green
- Radar fill: oklch(0.55 0.15 145) at 40% opacity
  </action>
  <verify>
Run `pnpm dev` and navigate to /spirits/river-surges-in-sunlight.
Verify: Radar chart visible with spider web grid lines, values plotted and readable.
  </verify>
  <done>
Radar chart is clearly visible on dark background with polygon (spider web) grid lines and readable axis labels.
  </done>
</task>

</tasks>

<verification>
1. `pnpm typecheck` passes
2. Variant tabs show "Base" not truncated spirit name
3. Tab bar has only horizontal scroll, no vertical
4. Active tab has gradient highlight
5. Radar chart has visible spider web grid
6. Radar values are plotted and readable on dark background
</verification>

<success_criteria>
- Variant tabs UAT issues resolved: "Base" label, no vertical scroll, gradient highlight, no rounded corners
- Radar chart UAT issues resolved: visible on dark bg, spider web grid, readable labels
- Both components work correctly in dark mode
</success_criteria>

<output>
After completion, create `.planning/phases/03.1-spirit-board-polish/03.1-03-SUMMARY.md`
</output>

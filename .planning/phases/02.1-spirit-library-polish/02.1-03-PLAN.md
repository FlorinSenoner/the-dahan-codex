---
phase: 02.1-spirit-library-polish
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - app/components/spirits/filter-sheet.tsx
  - app/components/spirits/filter-chips.tsx
  - app/components/spirits/spirit-row.tsx
  - app/routes/spirits.$slug.tsx
autonomous: true

must_haves:
  truths:
    - "All interactive elements have cursor-pointer on hover"
    - "Touch targets are at least 44px minimum dimension"
    - "Clear all button does not cause layout shift"
  artifacts:
    - path: "app/components/spirits/filter-sheet.tsx"
      provides: "Filter UI with proper touch targets"
      contains: "min-h-[44px]"
    - path: "app/components/spirits/filter-chips.tsx"
      provides: "Filter chips with proper touch targets"
      contains: "cursor-pointer"
  key_links:
    - from: "app/components/spirits/filter-sheet.tsx"
      to: "@/components/ui/button"
      via: "Button component usage"
      pattern: "min-w-\\[44px\\]"
---

<objective>
Fix touch target sizes and add cursor-pointer to all interactive elements across spirit components.

Purpose: UAT identified multiple accessibility issues: filter button too small (needs 44px min), missing pointer cursor on hover for all buttons, and filter chips with insufficient tap areas.

Output: All interactive elements have min-w-[44px] min-h-[44px] touch targets and cursor-pointer class.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/02.1-spirit-library-polish/02.1-RESEARCH.md

@app/components/spirits/filter-sheet.tsx
@app/components/spirits/filter-chips.tsx
@app/components/spirits/spirit-row.tsx
@app/routes/spirits.$slug.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix filter button and filter pills in filter-sheet.tsx</name>
  <files>app/components/spirits/filter-sheet.tsx</files>
  <action>
Update filter-sheet.tsx with proper touch targets and cursor:

1. **Filter trigger button** - Add min-w-[44px] min-h-[44px] and cursor-pointer:
   ```tsx
   <Button
     variant="outline"
     size="icon"
     className="relative min-w-[44px] min-h-[44px] cursor-pointer"
     aria-label="Filter"
   >
   ```

2. **FilterPill component** - Update with proper touch target and cursor:
   ```tsx
   <button
     type="button"
     onClick={onClick}
     className={cn(
       "min-h-[44px] px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer",
       "border",
       selected
         ? "bg-primary text-primary-foreground border-primary"
         : "bg-muted/30 text-foreground border-border hover:bg-muted/50",
     )}
   >
   ```

3. **Clear all button in header** - Add cursor-pointer:
   ```tsx
   <Button
     variant="ghost"
     size="sm"
     onClick={...}
     className="text-muted-foreground cursor-pointer"
   >
   ```

4. **Footer buttons (Cancel/Apply)** - Add cursor-pointer to both:
   ```tsx
   <Button variant="outline" className="flex-1 cursor-pointer">
     Cancel
   </Button>
   <Button onClick={applyFilters} className="flex-1 cursor-pointer">
     Apply Filters
   </Button>
   ```
  </action>
  <verify>Run `pnpm dev`, open /spirits, click filter button. Verify: button is at least 44px, cursor changes to pointer on all interactive elements in the sheet.</verify>
  <done>Filter sheet has proper touch targets (44px) and cursor-pointer on all buttons.</done>
</task>

<task type="auto">
  <name>Task 2: Fix filter chips and Clear all layout shift</name>
  <files>app/components/spirits/filter-chips.tsx</files>
  <action>
Update filter-chips.tsx:

1. **Filter chip buttons** - Add proper touch target and cursor:
   ```tsx
   <button
     key={`${type}-${value}`}
     type="button"
     onClick={() => removeFilter(type, value)}
     className={cn(
       "inline-flex items-center gap-1.5 min-h-[44px] px-3 rounded-full text-sm font-medium cursor-pointer",
       "bg-primary/10 text-primary border border-primary/20",
       "hover:bg-primary/20 transition-colors",
     )}
   >
   ```

2. **Clear all button** - Fix layout shift by always rendering with fixed width:
   - Move Clear all to the right side with `ml-auto`
   - Add min-w to prevent layout shift
   - Add cursor-pointer

   ```tsx
   <div className="flex flex-wrap items-center gap-2 px-4 py-2 border-b border-border bg-muted/20">
     <div className="flex flex-wrap items-center gap-2 flex-1">
       {allFilters.map(({ type, value }) => (
         // ... filter chips
       ))}
     </div>
     <button
       type="button"
       onClick={clearAll}
       className="text-xs text-muted-foreground hover:text-foreground transition-colors cursor-pointer min-h-[44px] px-2 ml-2 border-l border-border"
     >
       Clear all
     </button>
   </div>
   ```

   This puts Clear all on the right with a visual divider, preventing layout shift.
  </action>
  <verify>Add a filter, verify chip is 44px tall with pointer cursor. Verify Clear all is separated on the right and doesn't shift when filters are added/removed.</verify>
  <done>Filter chips have proper touch targets, Clear all is visually separated and doesn't cause layout shift.</done>
</task>

<task type="auto">
  <name>Task 3: Add cursor-pointer to spirit rows and back button</name>
  <files>app/components/spirits/spirit-row.tsx, app/routes/spirits.$slug.tsx</files>
  <action>
1. **spirit-row.tsx** - The Link component should already show pointer, but add explicit cursor-pointer:
   ```tsx
   <Link
     to={href}
     className={cn(
       "flex items-center gap-4 p-4 cursor-pointer",
       "active:bg-muted/50 transition-colors duration-150",
       isAspect && "pl-8 bg-muted/10",
     )}
   >
   ```

2. **spirits.$slug.tsx** - Update back buttons with proper sizing and cursor:
   - Loading state back button:
     ```tsx
     <Button
       variant="ghost"
       size="icon"
       className="min-w-[44px] min-h-[44px] cursor-pointer"
       onClick={() => navigate({ to: "/spirits" })}
     >
     ```

   - Not found state back button: Same treatment

   - Main header back button: Same treatment

   Also update the "Back to Spirits" link in not found state:
   ```tsx
   <Link
     to="/spirits"
     className="text-primary hover:underline cursor-pointer"
   >
   ```
  </action>
  <verify>Run `pnpm dev`, navigate to /spirits. Verify cursor changes to pointer when hovering over spirit rows. Navigate to spirit detail, verify back button is 44px and shows pointer cursor.</verify>
  <done>All interactive elements show pointer cursor on hover. Back buttons are 44px touch targets.</done>
</task>

</tasks>

<verification>
- Filter button in header is 44x44px minimum
- All filter pills in bottom sheet are 44px tall
- All filter chips in chip bar are 44px tall
- Clear all button doesn't shift layout when filters change
- Cursor is pointer on: filter button, filter pills, filter chips, clear all, spirit rows, back buttons
- All buttons have aria-label where icon-only
</verification>

<success_criteria>
- Touch targets meet WCAG 2.5.5 AAA (44px) for all interactive elements
- cursor-pointer class applied to all clickable elements
- Layout is stable when adding/removing filters
- No visual jank or shift when interacting with filters
</success_criteria>

<output>
After completion, create `.planning/phases/02.1-spirit-library-polish/02.1-03-SUMMARY.md`
</output>
